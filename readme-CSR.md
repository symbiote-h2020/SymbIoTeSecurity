### Certificate acquisition
In order to acquire relevant certificates using directly the AAM endpoint the actor (user/platform owner) needs to provide Certificate Request. 
It consists of credentials of the actor (username and password), client identifier and a Certificate Signing Request with the following specifics:

1.  
    Actor: common (either ordinary user (app) or platform owner) 

    AAM type: Core and Platform 
    
    Input format (CSR): CN=username@clientId@platformId (or SymbIoTe_Core_AAM for core user) 
    
    CSR's format in REGEX: ^(CN=)(([\w-])+)(@)(([\w-])+)(@)(([\w-])+)$ 
    
    Result: User client's certificate for acquiring HOME tokens 
    
2.
    Actor: Core AAM Admin 
    
    AAM type: Core 
        
    Input format (CSR): CN=componentId@SymbIoTe_Core_AAM 
        
    CSR's format in REGEX: ^(CN=)(([\w-])+)(@)(([\w-])+)$
        
    Result: Core components' certificate
    
3.
    Actor: Platform Owner
    
    AAM type: Core 
        
    Input format (CSR): CN=platformId
        
    CSR's format in REGEX: ^(CN=)(([\w-])+)$
        
    Result: Platform AAM's certificate
    
4.
    Actor: PO for R3, and for R3.1 Platform AAM Admin
        
    AAM type: Core 
           
    Input format (CSR): CN=componentId@platformId
            
    CSR's format in REGEX: ^(CN=)(([\w-])+)(@)(([\w-])+)$
            
    Result: Platform components' certificate
    
   
The User generates a CSR with a CN matching the aforementioned scheme that matches the Home AAM certificate data,
then sends a request for a certificate to the Home AAM (e.g. for the core through the Administration module).


The SignCertificateRequest is located in body of request which is sent with POST method on address:
```
https://<coreInterfaceAdress>/AAM_SIGN_CERTIFICATE_REQUEST
```


Home AAM verifies the request and signs the certificate that was requested in the CSR; newly signed certificate is written in Home AAM's database for that particular user and its client_id.
Generated by Home AAM and delivered to the client, it returns either a valid certificate or an error message. From now on the User can log in to his Home AAM and acquire home tokens from it.
    
    
    